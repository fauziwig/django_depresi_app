{% extends "base.html" %}
{% load static %}
{% block title %}Akun Pengguna - DepresiCare{% endblock %}

{% block content %}
<div class="container py-5" style="min-height:80vh;">
    <h1 class="text-center mb-5" style="font-weight:700;font-size:2.5rem;">
        Akun <span style="color:#C084FC;">Pengguna</span>
    </h1>
    <div class="row justify-content-center mb-4">
        <div class="col-md-6">
            <div class="mb-4">
                <div class="fw-semibold mb-2" style="font-size:1.15rem;">Informasi Pengguna</div>
                <div class="mb-3">
                    <label class="form-label">Nama</label>
                    <input type="text" class="form-control" value="{{ user.get_full_name }}" readonly>
                </div>
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" value="{{ user.username }}" readonly>
                </div>
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="text" class="form-control" value="{{ user.email }}" readonly>
                </div>
            </div>
        </div>
    </div>

    <div class="row justify-content-center mb-4">
        <div class="col-md-8">
            <div class="fw-semibold mb-2" style="font-size:1.15rem;">Riwayat Diagnosis</div>
            {% if diagnosis_history %}
                {% for diag in diagnosis_history %}
                <div class="border rounded mb-3 p-3">
                    <div class="fw-semibold" style="font-size:1.1rem;">
                        Diagnosis {{ diag.date|date:"j F Y" }}
                    </div>
                    <div class="mb-2">
                        {{ diag.result_text|safe }}
                    </div>
                    <a href="{% url 'results_url' %}?id={{ diag.id }}" class="btn btn-sm" style="background:#C084FC;color:#fff;">Lihat Detail</a>
                </div>
                {% endfor %}
            {% else %}
                <div class="text-muted">Belum ada riwayat diagnosis.</div>
            {% endif %}
        </div>
    </div>

    <div class="mb-4">
        <div class="p-3 rounded" style="background:#FFEB3B; border:1px solid #E0C200;">
            <strong>Catatan Penting</strong>
            <p class="mb-0 mt-2" style="font-size:1rem;">
                Alat ini tidak dapat menggantikan konsultasi langsung dengan profesional kesehatan mental (psikolog atau psikiater). Jika Anda merasa khawatir tentang kesehatan mental atau jiwa, jangan ragu untuk mencari dukungan dari profesional.<br>
                Mengambil langkah selanjutnya untuk <strong>berkonsultasi dengan profesional</strong> adalah tindakan yang bijaksana untuk merawat diri. Berikut adalah beberapa fasilitas kesehatan di Yogyakarta yang memiliki layanan psikologi dan psikiatri (kesehatan jiwa) yang terpercaya:
            </p>
        </div>
    </div>

    <div class="card border-dark mb-4" style="border-radius:16px;">
        <div class="card-body">
            <div class="row g-4">
                <div class="col-md-4 d-flex align-items-start">
                    <img src="{% static 'rssardjito.webp' %}" alt="RSUP Dr Sardjito" class="rounded" style="width:100px;height:100px;object-fit:cover;">
                    <div class="ms-3">
                        <div class="fw-bold" style="font-size:1.1rem;">RSUP Dr Sardjito</div>
                        <div style="font-size:0.85rem; font-style:italic; color:#555;">
                            Jl. Kesehatan, Jl. Kesehatan Sendowo No.1, Sendowo, Sinduadi, Kec. Mlati, Kabupaten Sleman, Daerah Istimewa Yogyakarta 55281
                        </div>
                        <div class="mt-2" style="font-size:0.97rem;">
                            <span class="d-block mb-1" style="color:#673968;"><strong>Telp:</strong> (0274) 587333</span>
                            <a href="https://sardjito.co.id/" target="_blank" style="color:#7c3aed; word-break:break-all; font-size:0.97rem;">https://sardjito.co.id/</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 d-flex align-items-start">
                    <img src="{% static 'rsgrhasia.jpg' %}" alt="RSJ Grhasia" class="rounded" style="width:100px;height:100px;object-fit:cover;">
                    <div class="ms-3">
                        <div class="fw-bold" style="font-size:1.1rem;">RSJ Grhasia</div>
                        <div style="font-size:0.85rem; font-style:italic; color:#555;">
                            Jl. Kaliurang KM 17, Pakem, Sleman, Daerah Istimewa Yogyakarta 55582
                        </div>
                        <div class="mt-2" style="font-size:0.97rem;">
                            <span class="d-block mb-1" style="color:#673968;"><strong>Telp:</strong> (0274) 895070</span>
                            <a href="https://rsjgrhasia.jogjaprov.go.id/" target="_blank" style="color:#7c3aed; word-break:break-all; font-size:0.97rem;">https://rsjgrhasia.jogjaprov.go.id/</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 d-flex align-items-start">
                    <img src="{% static 'rspantirapih.jpeg' %}" alt="RS Panti Rapih" class="rounded" style="width:100px;height:100px;object-fit:cover;">
                    <div class="ms-3">
                        <div class="fw-bold" style="font-size:1.1rem;">RS Panti Rapih</div>
                        <div style="font-size:0.85rem; font-style:italic; color:#555;">
                            Jl. Cik Di Tiro No.30, Terban, Kec. Gondokusuman, Kota Yogyakarta, Daerah Istimewa Yogyakarta 55223
                        </div>
                        <div class="mt-2" style="font-size:0.97rem;">
                            <span class="d-block mb-1" style="color:#673968;"><strong>Telp:</strong> (0274) 563333</span>
                            <a href="https://pantirapih.or.id/" target="_blank" style="color:#7c3aed; word-break:break-all; font-size:0.97rem;">https://pantirapih.or.id/</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}